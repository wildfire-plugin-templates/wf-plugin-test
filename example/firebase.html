<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Wildfire Plugin - Firebase</title>
  <link rel="stylesheet" type="text/css" href="./static/js/wildfire/firebase/static/wildfire.css">
  <style type="text/css">
    #app {
      max-width: 560px;
      margin: 0 auto;
    }
  </style>
</head>
<body>
  <p>Change to <a href="wilddog.html">Wilddog</a></p>
  <div id="app">
    <wildfire :key="resetKey"></wildfire>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/vue"></script>

  <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase.js"></script>
  <script src="./static/js/wildfire/firebase/wildfire.min.js"></script>
  <!-- <script src="https://unpkg.com/wildfire/dist/firebase/wildfire.min.js"></script> -->

  <script src="../dist/wf-plugin-test.min.js"></script>
  <script type="text/javascript">
    const pluginName = 'wf-plugin-test'

    wildfire.default.install(Vue, {
      databaseProvider: 'firebase',
      databaseConfig: {
        apiKey: "AIzaSyDCHvWMGjVVTMcL67sorfJm3Uv-_luAKg0",
        authDomain: "wildfire-plugin.firebaseapp.com",
        databaseURL: "https://wildfire-plugin.firebaseio.com",
        projectId: "wildfire-plugin",
        storageBucket: "",
        messagingSenderId: "712535216662"
      },
      pageURL: `http://wildfire.js.org/${pluginName}`,
      pageTitle: 'Wildfire Plugin',
      theme: 'light',
      // theme: 'dark',
      // defaultAvatarURL: 'https://image.flaticon.com/icons/svg/621/621863.svg'
      locale: 'en',
      // locale: 'zh-CN',
      plugins: [
        WildfirePluginTest.default()
      ]
    })
    var app = new Vue({
      el: '#app',
      data () {
        return {
          resetKey: 0
        }
      },
      mounted () {
        window.$_wildfire_reset = (config) => {
          wildfire.reset(Vue, {
            pageURL: 'http://wildfire.js.org/dev-reset-test',
            pageTitle: 'Reset!!!',
            locale: 'en'
          })
          this.resetKey += 1
        }
      }
    })
  </script>
</body>
</html>